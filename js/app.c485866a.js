(function(e){function t(t){for(var r,u,i=t[0],a=t[1],l=t[2],d=0,p=[];d<i.length;d++)u=i[d],Object.prototype.hasOwnProperty.call(s,u)&&s[u]&&p.push(s[u][0]),s[u]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);c&&c(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var a=n[i];0!==s[a]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},s={app:0},o=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/cam-pipeline/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=a;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),s=n.n(r);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Submission")],1)},o=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"submission"},[n("div",{staticClass:"float-right col-7"},[n("div",{staticStyle:{height:"14em",border:"1px solid black",margin:"1em"},attrs:{id:"query-cytoscape"}}),n("button",{staticClass:"col-12",on:{click:function(t){return e.cyQuery.fit()}}},[e._v("Fit")])]),n("div",{staticClass:"col-5"},[n("h1",[e._v("Enter query here")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"col-12 text-pre-wrap",attrs:{id:"query",rows:"7"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),n("button",{staticClass:"col-12",attrs:{id:"submission"},on:{click:function(t){return e.submitQuery(e.query)}}},[e._v("Submit")])]),n("div",{staticStyle:{clear:"both"}}),n("div",{staticClass:"float-right col-7"},[n("div",{staticStyle:{height:"14em",border:"1px solid black",margin:"1em"},attrs:{id:"result-cytoscape"}}),n("button",{staticClass:"col-12",on:{click:function(t){return e.cyResult.fit()}}},[e._v("Fit")])]),n("div",{staticClass:"col-5"},[n("h1",[e._v("Result appears here")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.result,expression:"result"}],staticClass:"col-12 text-pre-wrap",attrs:{id:"result",rows:"7"},domProps:{value:e.result},on:{input:function(t){t.target.composing||(e.result=t.target.value)}}})])])},i=[],a=(n("4160"),n("d81d"),n("159b"),window.cytoscape),l={name:"Submission",props:{queryProp:{type:String,default:'{\n        "nodes": [\n          {\n            "id": "n0",\n            "type": "gene",\n            "curie": "NCBIGENE:558"\n          },\n          {\n            "id": "n1",\n            "type": "biological_process"\n          }\n        ],\n        "edges": [\n          {\n            "id": "e0",\n            "source_id": "n1",\n            "target_id": "n0",\n            "type": "has_participant"\n          }\n        ]}'},resultProp:{type:String,default:'{\n        "nodes": [\n            {\n                    "id": "obo:BFO_0000002"\n\n            },\n            {\n                    "id": "GO:0010467"\n\n            },\n            {\n                    "id": "NCBIGENE:558"\n\n            },\n            {\n                    "id": "GO:0016310"\n\n            },\n            {\n                    "id": "GO:0032259"\n\n            }\n        ],\n        "edges": [\n            {\n                    "id": "e0000",\n                    "source": "GO:0010467",\n                    "target": "obo:BFO_0000002"\n\n            },\n            {\n                    "id": "e0001",\n                    "source": "GO:0010467",\n                    "target": "NCBIGENE:558"\n\n            },\n            {\n                    "id": "e0002",\n                    "source": "GO:0016310",\n                    "target": "obo:BFO_0000002"\n\n            },\n            {\n                    "id": "e0003",\n                    "source": "GO:0016310",\n                    "target": "NCBIGENE:558"\n\n            },\n            {\n                    "id": "e0004",\n                    "source": "GO:0032259",\n                    "target": "obo:BFO_0000002"\n\n            },\n            {\n                    "id": "e0005",\n                    "source": "GO:0032259",\n                    "target": "NCBIGENE:558"\n\n            }\n        ]\n    }'}},data:function(){return{query:"",result:"",style:[{selector:"node",style:{label:"data(label)","background-color":"#60f",shape:"round-rectangle"}},{selector:"edge",style:{content:"data(label)","curve-style":"unbundled-bezier","control-point-distances":[-20,20],"control-point-weights":[.5],"line-color":"#808080","target-arrow-color":"#808080","target-arrow-shape":"triangle","target-arrow-fill":"filled"}}]}},mounted:function(){this.query=this.queryProp,this.result=this.resultProp},computed:{cyQuery:function(){return a({container:document.getElementById("query-cytoscape"),style:this.style})},cyResult:function(){return a({container:document.getElementById("result-cytoscape"),style:this.style})},queryAsJSON:function(){try{return JSON.parse(this.query)}catch(e){return{}}},queryAsGraph:function(){return{nodes:(this.queryAsJSON["nodes"]||[]).map((function(e){return{id:e.id,label:e.curie||e.type||e.id}})),edges:(this.queryAsJSON["edges"]||[]).map((function(e){return{label:e.type||e.id,id:e.id,source:e.source_id,target:e.target_id}}))}},resultAsJSON:function(){try{return JSON.parse(this.result)}catch(e){return alert("Could not parse result: "+e),{}}},resultAsGraph:function(){return{nodes:(this.resultAsJSON["nodes"]||[]).map((function(e){return{id:e.id,label:e.curie||e.type||e.id}})),edges:(this.resultAsJSON["edges"]||[]).map((function(e){return{label:e.type||e.id,id:e.id,source:e.source,target:e.target}}))}}},watch:{query:function(){var e=this;console.log("Setting ",this.cyQuery," with nodes: ",this.queryAsGraph.nodes," and edges:",this.queryAsGraph.edges),this.cyQuery.remove("node"),this.cyQuery.remove("edge"),this.queryAsGraph.nodes.forEach((function(t){return e.cyQuery.add({group:"nodes",data:t})})),this.queryAsGraph.edges.forEach((function(t){return e.cyQuery.add({group:"edges",data:t})}));var t=this.cyQuery.layout({name:"breadthfirst"});t.run(),this.cyQuery.fit()},result:function(){var e=this;console.log("Setting ",this.cyResult," from ",this.result," with nodes: ",this.resultAsGraph.nodes," and edges:",this.resultAsGraph.edges),this.cyResult.remove("node"),this.cyResult.remove("edge"),this.resultAsGraph.nodes.forEach((function(t){return e.cyResult.add({group:"nodes",data:t})})),this.resultAsGraph.edges.forEach((function(t){return e.cyResult.add({group:"edges",data:t})}));var t=this.cyResult.layout({name:"breadthfirst"});t.run(),this.cyResult.fit()}},methods:{submitQuery:function(e){var t=this,n=null;try{n=JSON.parse(this.query)}catch(r){alert("Could not parse JSON: "+r)}null!=n&&(console.log("Submitting query: ",e),this.$http.post("http://robokop.renci.org:6434/query",{json:JSON.stringify({message:{query_graph:this.queryAsJSON}})}).then((function(e){t.result=e})))}}},c=l,d=n("2877"),p=Object(d["a"])(c,u,i,!1,null,null,null),y=p.exports,f={name:"App",components:{Submission:y}},h=f,g=(n("034f"),Object(d["a"])(h,s,o,!1,null,null,null)),b=g.exports,m=n("5f5b"),v=n("b1e0"),O=(n("f9e3"),n("2dd8"),n("7338")),S=n.n(O),q=n("29a6"),w=n.n(q);r["default"].config.productionTip=!1,r["default"].use(m["a"]),r["default"].use(v["a"]),r["default"].use(w.a,S.a),new r["default"]({render:function(e){return e(b)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.c485866a.js.map